%-------------------------------%
%  Author: Alessandro Sciarra   %
%    Date: 25 Sep 2020          %
%-------------------------------%

%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
\begin{frame}<0>[label=IOflow]{The Bash script flow}
    \begin{tikzpicture}[overlay, remember picture]
        \pgfmathsetmacro{\cubex}{1}
        \pgfmathsetmacro{\cubey}{1}
        \pgfmathsetmacro{\cubez}{1}
        \coordinate (O) at ($(current page.center)-(0.5,0.3)$);
        \draw[PP, fill=PP!40] (O) ++(\cubex,\cubey,0) -- ++(0,0,-\cubez) -- ++(0,-\cubey,0) -- ++(0,0,\cubez) -- cycle;
        \draw[PP, fill=PP!10] (O) ++(\cubex,\cubey,0) -- ++(-\cubex,0,0) -- ++(0,0,-\cubez) -- ++(\cubex,0,0) -- cycle;
        \draw[PP] (O) ++(0,\cubey,-\cubez) -- ++(0,-\cubey,0);
        \draw[PP, fill=PP!30] (O)                     -- ++(\cubex,0,0) -- ++(0,\cubey,0) -- ++(-\cubex,0,0) -- cycle;
        \draw[PP, fill=PP!10] (O) ++(\cubex,\cubey/6,-\cubez/4) -- ++(0,0,-\cubez/2) -- ++(0,\cubey/4,0) -- ++(0,0,\cubez/2) -- cycle;
        \node[PB] at ($(O)+(\cubex/2,\cubey/2,0)$) {Script};
        % Note the NEED of extra group around \uncover in node! --> https://tex.stackexchange.com/a/9130/128737
        \path[from] ($(O)+(\cubex/2,\cubey,-\cubez/2)$) edge[out=90, in=0]   node[pos=1, anchor=east] {\alert<2>{\tc<3>{Gray!50}{Command-line arguments}}} ++(-1.5,0.5,0)
                                                        edge[out=90, in=270] node[pos=1, anchor=345]  {\alert<2>{\tc<3>{Gray!50}{Environment variables}}} ++(-1.0,1.3,-0.2)
                                                        edge[out=90, in=270] node[pos=1, anchor= south, inner sep=1pt]  {\alert<3>{File(s)}{\uncover<2>{$^{\star}$}}} ++(0.1,1.5,-1.5)
                                                        edge[out=90, in=180] node[pos=1, anchor=west] {\alert<3>{File descriptors}{\uncover<2>{$^{\star}$}}} ++(1.8,1.0,-0.3);
        \path[to] ($(O)+(\cubex,\cubey/24*7,-\cubez/2)$) edge[out=0, in=180] node[pos=1, anchor=west] {\alert<3>{File(s)}{\uncover<2>{$^{\star}$}}} ++(3.0,-0.5,0)
                                                         edge[out=0, in=180] node[pos=1, anchor=west] {\alert<3>{File descriptors}{\uncover<2>{$^{\star}$}}} ++(2.2,-1.5,0)
                                                         edge[out=0, in=180] node[pos=1, anchor=west] {\alert<2>{\tc<3>{Gray!50}{Environment variables}}} ++(1.4,-2.5,0);
    \end{tikzpicture}
    \vspace{35mm}
    \begin{columns}[c]
        \begin{column}{0.08\textwidth}
        \end{column}
        \begin{column}{0.4\textwidth}
            \begin{varblock}{example}[\textwidth]{Think before doing!}
                It is part of the design-phase to keep in mind all these possibilities and take advantage of them.
            \end{varblock}
        \end{column}
        \begin{column}{0.52\textwidth}
        \end{column}
    \end{columns}
    \FrameRemark[2]{$^{\star}$ We will discuss all these in detail tomorrow.}
    \FrameRemark[3]{We discussed \tc{Gray!50}{these} in detail yesterday.}
\end{frame}
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%